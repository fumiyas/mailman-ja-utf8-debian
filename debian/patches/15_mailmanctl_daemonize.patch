Patch: 15_mailmanctl_daemonize.patch
Author: Tollef Fog Heen <tfheen@debian.org>
Daemonize mailmanctl properly (Closes: #175175)
Index: mailman-2.1.12/bin/mailmanctl
===================================================================
--- mailman-2.1.12.orig/bin/mailmanctl	2009-03-02 20:41:55.000000000 +0100
+++ mailman-2.1.12/bin/mailmanctl	2009-03-02 20:50:01.000000000 +0100
@@ -417,6 +417,13 @@
         # won't be opening any terminal devices, don't do the ultra-paranoid
         # suggestion of doing a second fork after the setsid() call.
         os.setsid()
+
+        # Be sure to close any open std{in,out,err}
+        devnull = os.open('/dev/null', 0)
+        os.dup2(devnull, 0)
+        os.dup2(devnull, 1)
+        os.dup2(devnull, 2)
+
         # Instead of cd'ing to root, cd to the Mailman installation home
         os.chdir(mm_cfg.PREFIX)
         # Set our file mode creation umask

Patch: 53_disable_addons.patch
Author: Tollef Fog Heen <tfheen@debian.org>
Disable some modules which are pulled in from other Debian packages.
diff -Nur misc/Makefile.in mailman-2.1.10b3/misc/Makefile.in
--- misc/Makefile.in	2008-02-02 23:29:26.000000000 +0100
+++ misc/Makefile.in	2008-02-08 23:19:31.000000000 +0100
@@ -57,7 +57,10 @@
 JACODECSPKG=	JapaneseCodecs-1.4.11
 KOCODECSPKG=	KoreanCodecs-2.0.5
 
-PACKAGES= $(EMAILPKG) $(JACODECSPKG) $(KOCODECSPKG)
+#Debian note (LEM): we take the Japanese and Korean codecs from other
+#Debian packages, but not email because the one in Python 2.4 doesn't work
+#with Mailman; when Mailman upgrades to email 3.0.x, we can try again.
+PACKAGES= $(EMAILPKG)
 
 # Modes for directories and executables created by the install
 # process.  Default to group-writable directories but
diff -Nur misc/paths.py.in mailman-2.1.10b3/misc/paths.py.in
--- misc/paths.py.in	2008-02-02 23:29:26.000000000 +0100
+++ misc/paths.py.in	2008-02-08 23:21:01.000000000 +0100
@@ -71,13 +71,19 @@
 # files would be imported automatically.  But because we inhibit the importing
 # of the site module, we need to be explicit about importing these codecs.
 if not jaok:
-    import japanese
+    try:
+        import japanese
+    except ImportError:
+        pass
 # As of KoreanCodecs 2.0.5, you had to do the second import to get the Korean
 # codecs installed, however leave the first import in there in case an upgrade
 # changes this.
 if not kook:
-    import korean
-    import korean.aliases
+    try:
+        import korean
+        import korean.aliases
+    except ImportError:
+        pass
 # Arabic and Hebrew (RFC-1556) encoding aliases. (temporary solution)
 import encodings.aliases
 encodings.aliases.aliases.update({
